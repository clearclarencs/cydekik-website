<!DOCTYPE html>
<head>
    <link rel="icon" href="Images/cydekik.jpg">
    <title>Cydekik Launches Stock Checker</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta content="https://cydekik.com/Images/cydekik.jpg" property="og:image" data-rh="true">
    <meta content="Cydekik END Stock Checker" property="og:title" data-rh="true">
    <meta content="Making raffle botting easy. Cydekik has an array of raffle botting tools so you can focus on whats important." property="og:description" data-rh="true">
    <meta name="theme-color" content="#1DA1F2">
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch.umd.js"></script>
    
</head>
<body style="margin:0;">
    <div style="display:block;" id="myDiv" class="animate-bottom">
        <header>
            <div class="top">
                <nav>
                    <h1 class="title">Cydekik Raffle Toolbox</h1>
                </nav>
            </div>
        </header>
        <section id="home">
            <div id="homeTextDiv">
                <h2 class="heading1">END stock checker</h2>
                <p class="faqP">Provided by Cydekik. Need help perfecting your setup and cooking raffles? Check out Cydekik <a href="/">here</a>.</p>
            </div>
        </section>
        <section>
            <script>
                const client = algoliasearch('KO4W2GBINK', 'dfa5df098f8d677dd2105ece472a44f8');
                const index = client.initIndex('catalog_products_launches_en');
                function stockNumbers(){
                    document.getElementById("stock-numbers").innerHTML = "Loading..."
                    index.search(document.getElementById("stockcheck-sku").value).then((query) => {
                        console.log(query.hits)
                        if (!(query.hits[0].sku == document.getElementById("stockcheck-sku").value)) {
                            document.getElementById("stock-numbers").innerHTML = "Couldn't find stock of product"
                            return
                        }
                        var stock = ["Stock:"]
                        for (const [key, value] of Object.entries(query.hits[0].sku_stock)) {
                            stock.push(String(key)+" - "+String(value))
                            }
                        stock.push("Total - "+String(query.hits[0].stock))
                        document.getElementById("stock-numbers").innerHTML = stock.join("<br>")
                    })
                }
            </script>
            <div class="stockcheck-div">
                <input type="text" class="stockcheck-select" id="stockcheck-sku" placeholder="SKU (last part of url)">
                <input type="Submit" class="stockcheck-select" id="stockcheck-submit" onClick="stockNumbers()">
            </div>
            <section id="stock-grid">
                <h2 id="info"></h2>
                <h2 id="stock-numbers"></h2>
            </section>
            <p id="disclaimer">Some retailers load stock towards the end / right before they draw. This can still be useful to see stock for previous releases.</p>
        </section>
        <footer>
            <a class="footerText" id="TandC" href="/terms-and-conditions">Terms & Conditions</a>
            <a class="footerText" id="email" href="mailto:support@cydekik.com">support@cydekik.com</a>
            <a class="footerText" id="pp" href="privacy-policy">Privacy Policy</a>
            <h3 class="footerText" id="copyright">Copyright Â© 2021 Cydekik. All Rights Reserved.</h3>
        </footer>
    </div>
</body>